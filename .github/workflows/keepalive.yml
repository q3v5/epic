name: Keepalive Workflow

on:
  schedule:
    - cron: '0 0 1 * *' # 每月 1 号运行一次
  workflow_dispatch: # 允许手动运行

jobs:
  keepalive:
    runs-on: ubuntu-latest
    permissions:
      contents: write  # 【关键】需要写权限来提交代码
    steps:
      - uses: actions/checkout@v3
      
      - name: Keepalive Action
        uses: gautamkrishnar/keepalive-workflow@v1
        with:
          # 这会自动提交一个空的 commit，防止 GitHub 暂停定时任务
          commit_message: "Automated keepalive commit"
